{% extends "layout.html" %}

{% block content %}
    <div class="container mt-4">
        <div class="p-3" style="background-color: lightblue;">
            <h1 class="text-center">Columbia Paper Infinity</h1>
            <div id="trash" class="border p-2 text-center mt-3" style="background-color: lightcoral; cursor: pointer;">
                ðŸ—‘ Drag sales here to delete
            </div>
        </div>

        <h4 class="mt-3">Log Your Paper Sales:</h4>

        <table class="table table-bordered mt-3 text-center align-middle">
            <thead class="table-light">
                <tr>
                    <th>Salesperson</th>  <!-- âœ… Added column for salesperson -->
                    <th>Client</th>
                    <th>Reams</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong id="salesperson">Lindsey Rosales</strong></td> <!-- âœ… Hardcoded salesperson -->
                    <td>
                        <input type="text" id="client" class="form-control" placeholder="Client">
                        <span id="client-warning" class="text-danger small d-block"></span> 
                    </td>
                    <td>
                        <input type="text" id="reams" class="form-control" placeholder="# Reams">
                        <span id="reams-warning" class="text-danger small d-block"></span> 
                    </td>
                    <td>
                        <button id="submit-sale" class="btn btn-primary">Submit</button>
                    </td>
                </tr>
            </tbody>
        </table>

        <h4 class="mt-3">Sales Log:</h4>
        <table class="table table-bordered mt-3 text-center align-middle">
            <thead class="table-light">
                <tr>
                    <th>Salesperson</th>
                    <th>Client</th>
                    <th>Reams</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody id="sales-records"></tbody>
        </table>
    </div>

    <script>
        window.salesData = JSON.parse('{{ sales | tojson | safe }}');
        window.clients = JSON.parse('{{ clients | tojson | safe }}');
    </script>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

    <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}">
    <script src="{{ url_for('static', filename='log_sales.js') }}"></script>
{% endblock %}
