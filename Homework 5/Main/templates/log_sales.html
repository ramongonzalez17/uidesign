{% extends "layout.html" %}

{% block content %}
    <div class="container mt-4">
        <div class="p-3" style="background-color: lightblue;">
            <h1 class="text-center">Columbia Paper Infinity</h1>
            <div id="trash" class="border p-2 text-center mt-3" style="background-color: lightcoral; cursor: pointer;">
                ðŸ—‘ Drag sales here to delete
            </div>
        </div>

        <h4 class="mt-3">Log your paper sales:</h4>
        <div class="input-group">
            <input type="text" id="client" class="form-control" placeholder="Client">
            <input type="text" id="reams" class="form-control" placeholder="# Reams">
            <button id="submit-sale" class="btn btn-primary">Submit</button>
        </div>

        <div id="sales-records" class="mt-4"></div>
    </div>

    <!-- âœ… Pass Sales Data & Clients Data from Flask -->
    <script>
        window.salesData = JSON.parse('{{ sales | tojson | safe }}');
        window.clients = JSON.parse('{{ clients | tojson | safe }}');

        console.log("âœ… Sales Data from Flask:", window.salesData);
        console.log("âœ… Clients Data from Flask:", window.clients);
    </script>

    <!-- âœ… Load External Dependencies -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

    <!-- âœ… Link to Flask Static Files -->
    <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}">
    <script src="{{ url_for('static', filename='log_sales.js') }}"></script>
{% endblock %}
